{% extends 'shop/base.html' %}
{% load static %}

{% block title %}Breeze — Заказы{% endblock %}

{% block content %}
    <main class="content">
        <section class="section container section-blue">
            <header class="section__header header-center">
                <h1 class="section__title h2">Заказы</h1>
            </header>
            <div class="section__body">
                <div class="orders">
                    <div class="order">
                        <div class="order__info">
                            <div class="order__info-card">
                                <div><strong>ID заказа:</strong> {{ order.id }}</div>
                                <div><strong>Дата заказа:</strong> {{ order.date }}</div>
                                <div><strong>ID клиента:</strong> {{ order.client_id }}</div>
                                <div><strong>E-mail клиента:</strong> {{ order.client_email }}</div>
                                <div><strong>Адрес доставки:</strong> {{ order.address }}</div>
                                <div><strong>Способ оплаты:</strong> {{ order.payment_method }}</div>
                                <div><strong>Итого:</strong> {{ order.total }} ₽</div>
                            </div>
                            <div class="order__info-products">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Название</th>
                                            <th>Кол-во</th>
                                            <th>Стоимость</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for item in order.items.all %}
                                        <tr>
                                            <td>{{ item.name }}</td>
                                            <td>{{ item.quantity }}</td>
                                            <td>{{ item.price }} ₽</td>
                                        </tr>
                                        {% empty %}
                                        <tr>
                                            <td colspan="3">Нет товаров</td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="order__interactive">
                            <div class="order__interactive-status">
                                <label for="status" class="visually-hidden"></label>
                                <span>Статус заказа:</span>
                                <select id="status" class="order__select select">
                                    <option value="default" selected disabled>Изменить статус</option>
                                    <option value="cancelled">Отменен</option>
                                    <option value="processing">В обработке</option>
                                    <option value="on-the-way">В пути</option>
                                    <option value="completed">Получен</option>
                                </select>
                                <button 
                                    class="order-page__button button button-refresh button-blue"
                                    type="submit"
                                >
                                    Обновить статус
                                </button>
                            </div>
                            <button 
                                class="order-page__button button button-delete"
                                type="submit"
                            >
                                Удалить
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
{% endblock %}