{% extends 'shop/base.html' %}
{% load static %}

{% block title %}Breeze — Мои заказы{% endblock %}

{% block content %}
    <main class="content">
        <section class="section container section-blue">
            <header class="section__header header-center">
                <h1 class="section__title h2"> Мои заказы</h1>
            </header>
            <div class="section__body">
                <div class="orders">
                    <div class="order">
                        <div class="order__info">
                            <div class="order__info-card">
                                <div><strong>ID заказа:</strong> {{ order.id }}</div>
                                <div><strong>Дата заказа:</strong> {{ order.date }}</div>
                                <div><strong>Адрес доставки:</strong> {{ order.address }}</div>
                                <div><strong>Способ оплаты:</strong> {{ order.payment_method }}</div>
                                <div><strong>Итого:</strong> {{ order.total }} ₽</div>
                                <div><strong>Статус заказа:</strong> {{ order.status }}</div>
                            </div>
                            <div class="order__info-products">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Название</th>
                                            <th>Кол-во</th>
                                            <th>Стоимость</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for item in order.items.all %}
                                        <tr>
                                            <td>{{ item.name }}</td>
                                            <td>{{ item.quantity }}</td>
                                            <td>{{ item.price }} ₽</td>
                                        </tr>
                                        {% empty %}
                                        <tr>
                                            <td colspan="3">Нет товаров</td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="order__interactive">
                            <button 
                                class="order-page__button button button-delete"
                                type="submit"
                            >
                                Удалить
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
{% endblock %}